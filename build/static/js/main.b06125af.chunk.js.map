{"version":3,"sources":["reportWebVitals.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","images/load.gif","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","components/Footer.js","components/Login.js","components/Register.js","images/enter_on.svg","images/enter_off.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Auth.js","components/MegaRouter.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","history","useHistory","ShowEm","prop","email","className","onClick","onSignOut","src","logo","alt","push","link","title","CurrentUserContext","React","createContext","Card","specialWord","currenUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","img","onCardClick","name","onCardDelete","type","onCardLike","length","Main","currentUser","avatar","onEditAvatar","id","onEditProfile","about","onAddPlace","cards","map","card","owner","ImagePopup","onClose","api","options","this","_token","token","_cohortId","cohortId","_url","url","_me","_ava","_cards","_likes","res","ok","json","Promise","reject","status","fetch","headers","authorization","_getResponseData","method","body","JSON","stringify","obj","myId","PopupWithForm","isOpen","textTitle","onSubmit","children","textButton","EditProfilePopup","useState","setName","setAbout","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvarar","current","ref","AddPlacePopup","place","setPlace","linkPlace","setLinkPlace","onAddNewPlace","App","profileImg","setCurrentUser","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","setCards","selectedCard","setSelectedCard","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","all","getCardsFromServer","getUserInfo","initialCards","userData","catch","err","console","log","Provider","changeLikeCardStatus","newCard","c","delCard","newArrCards","filter","changeAvatar","loadProfile","loadNewCard","Footer","Date","getFullYear","Login","login","setLogin","pass","setPass","action","onLoginClick","identifier","password","Register","onRegClick","href","InfoTooltip","on","off","ProtectedRoute","data","Component","component","loggedIn","to","BASE_URL","getResponseData","statusText","MegaRouter","setLoggedIn","isInfoOpen","setisInfoOpen","isTitle","setIsTitle","isAlt","setIsAlt","isRes","setIsRes","isEmail","setIsEmail","jwt","localStorage","getItem","tokenCheck","path","auth","setItem","removeItem","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b06125af.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/logo.abb64ac9.svg\";","import logo from '../images/logo.svg'\nimport {useHistory} from 'react-router-dom'\n\nfunction Header(props) {\n  const history = useHistory()\n\n  const handleBut = () => {\n    history.push(props.link);\n  }\n\n  function ShowEm(prop) {\n    if (prop.email) {\n      return (\n        <>\n        <p className=\"header__email\">{props.email}</p>\n        <button className=\"header__btn\" onClick={props.onSignOut}>Выйти</button>\n        </>\n      )\n    } else {\n      return <> </>\n    }\n  }\n\n  return (\n      <header className=\"header\">\n        <img className=\"header__logo\" src={logo} alt=\"Логотип сайта\" />\n        <div className=\"header__field\">\n          <button\n            className=\"header__btn\"\n            onClick={handleBut}\n          >\n            {props.title}\n          </button>\n          <ShowEm email={props.email}/>\n        </div>\n      </header>\n  )\n}\n\nexport default Header;\n","import React from 'react'\n\n//console.log(' context ');\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext \n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currenUser = React.useContext(CurrentUserContext);\n\n  function createAltImg(specialWord) {\n    return 'Изображение места: \"' + specialWord + '\"';\n  }\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props)\n  }\n\n  const isOwn = props.isOwn._id === currenUser._id;\n  const cardDeleteButtonClassName = `${isOwn ? \"place__del\" : \"nothing\"}`;\n  const isLiked = props.likes.some((i) => i._id === currenUser._id);\n  const cardLikeButtonClassName = `${\n    isLiked ? \"place__like place-like\" : \"place__like\"\n  }`;\n\n  return (\n    <article className=\"place\">\n      <img\n        className=\"place__img\"\n        src={props.img}\n        onClick={handleClick}\n        alt={createAltImg(props.name)}\n      />\n      <button\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <div className=\"place__option\">\n        <h2 className=\"place__title\">{props.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"place__num\">{props.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from 'react'\nimport Card from './Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__container\">\n            <img className=\"profile__img\" alt=\"Изображение профиля\" src={currentUser.avatar} />\n            <div\n              onClick={props.onEditAvatar}\n              className=\"profile__overlay\"\n            >\n              <button\n                className=\"profile__edit\"\n                type=\"button\"\n              >\n              </button>\n            </div>\n          </div>\n          <div className=\"profile-char\">\n            <div className=\"profile-char__discr\">\n              <div className=\"profile-char__info\">\n                <h1 id=\"text-up\" className=\"profile-char__title\">\n                  {currentUser.name}\n                </h1>\n                <button\n                  className=\"profile-char__edit\"\n                  type=\"button\"\n                  onClick={props.onEditProfile}>\n                </button>\n              </div>\n              <p id=\"text-dw\" className=\"profile-char__subtitle\">\n                {currentUser.about}\n              </p>\n            </div>\n            <button\n              className=\"profile-char__add\"\n              type=\"button\"\n              onClick={props.onAddPlace}>\n            </button>\n          </div>\n        </section>\n\n        <section className=\"places\">\n          {\n            props.cards.map( (card) => (\n              <Card\n                name={card.name}\n                img={card.link}\n                likes={card.likes}\n                key={card._id}\n                id={card._id}\n                onCardClick={props.onCardClick}\n                isOwn={card.owner}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />)\n            )\n          }\n        </section>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction ImagePopup({card, onClose}) {\n  function createAltImg(specialWord) {\n    return 'Изображение места: \"'+specialWord+'\"'\n  }\n\n  return (\n    <div id=\"popup-img\" className={ card.name ? 'popup-img popup popup_open' : 'popup-img popup'}>\n      <div className=\"popup-img__container\">\n        <img className=\"popup-img__img\" alt={createAltImg(card.name)} src={card.img} />\n        <p className=\"popup-img__title\">{card.name}</p>\n        <button id=\"popup-img__close\" className=\"popup__close\" onClick={onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup\n","//import {options} from '../utils/constants.js';\n\nconst options = {\n  token: '54e47a58-a3be-4854-bdb0-d150680efc4c',\n  cohortId: 'cohort-24',\n  myId: \"34f519f4db31bcdefd2e9e7c\",\n  url: 'https://mesto.nomoreparties.co',\n}\n\nclass Api {\n  constructor(options) {\n    this._token = options.token\n    this._cohortId = options.cohortId\n\n    this._url = options.url\n    this._me = '/v1/'+this._cohortId+'/users/me'\n    this._ava = this._me+'/avatar'\n    this._cards = '/v1/'+this._cohortId+'/cards'\n    this._likes = this._url+this._cards+'/likes/'\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`)\n    }\n    return res.json()\n  }\n\n  getUserInfo() {\n    return fetch(this._url+this._me, {\n      headers: {\n        authorization: this._token\n      }\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  getCardsFromServer() {\n    return fetch(this._url+this._cards, {\n        headers: {\n          authorization: this._token\n        }\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  changeAvatar(link) {\n    return fetch(this._url+this._ava, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: link.link\n      })\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  loadProfile(obj) {\n    return fetch(this._url+this._me, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: obj.name,\n        about: obj.about,\n      })\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  loadNewCard(obj) {\n    return fetch(this._url+this._cards, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: obj.name,\n        link: obj.link,\n      })\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n\n  delCard(id) {\n    return fetch(this._url+this._cards+'/'+id, {\n      method: 'DELETE',\n      headers: {\n          authorization: this._token\n        }\n      }).then(\n        (res) => this._getResponseData(res)\n      )\n  }\n\n  changeLikeCardStatus(id, method) {\n    return fetch(this._likes+id, {\n      method: method,\n      headers: {\n        authorization: this._token\n      }\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n  /*\n  sendLike(id, method) {\n    return fetch(this._likes+id, {\n      method: method, // 'PUT'\n      headers: {\n        authorization: this._token\n      }\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n  */\n  /*\n  sendDislike(id) {\n    return fetch(this._likes+id, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    }).then(\n      (res) => this._getResponseData(res)\n    )\n  }\n  */\n}\n\nconst api = new Api(options)\nexport default api\n","export default __webpack_public_path__ + \"static/media/load.0bbdeb44.gif\";","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      id={`popup-${props.name}`}\n      className={props.isOpen ? \"popup popup_open\" : \"popup\"}\n    >\n      <div className={`popup-${props.name}__container popup__container`}>\n        <button\n          id={`popup-${props.name}__close`}\n          onClick={props.onClose}\n          className=\"popup__close\"\n          type=\"button\"\n        ></button>\n        <p className={`popup-${props.name}__title`}>{`${props.textTitle}`}</p>\n        <form\n          onSubmit={props.onSubmit}\n          name={`${props.name}`}\n          className={`popup-${props.name}__form popup__form`}\n        >\n          {props.children}\n          <button\n            id={`popup-${props.name}__save`}\n            className={`popup__save`}\n            type=\"submit\"\n          >\n            {`${props.textButton}`}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const currenUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState(currenUser.name)\n  const [about, setAbout] = React.useState(currenUser.about)\n\n  React.useEffect( () => {\n    setName(currenUser.name)\n    setAbout(currenUser.about)\n  }, [currenUser, props.isOpen])\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeDiscr(e) {\n    setAbout(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateUser({\n      name,\n      about,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name={'edit'}\n      textTitle={`Редактировать профиль`}\n      textButton={`Сохранить`}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name}\n        onChange={handleChangeName}\n        id=\"input-profile-title\"\n        className=\"popup__input\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span id=\"input-profile-title-error\" className=\"popup__error\"></span>\n      <input\n        value={about}\n        onChange={handleChangeDiscr}\n        id=\"input-profile-subtitle\"\n        className=\"popup__input\"\n        name=\"about\"\n        type=\"text\"\n        placeholder=\"О себе\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span id=\"input-profile-subtitle-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateAvarar({\n      link: avatarRef.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name={'avatar'}\n      isOpen={ props.isOpen }\n      textTitle={`Обновить аватар`}\n      textButton={`Сохранить`}\n      onClose={ props.onClose }\n    >\n      <input\n        ref={avatarRef}\n        id=\"popup-avatar-link\"\n        className=\"popup__input\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span id=\"popup-avatar-link-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('')\n  const [linkPlace, setLinkPlace] = React.useState('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onAddNewPlace({\n      place,\n      linkPlace\n    })\n    setPlace('')\n    setLinkPlace('')\n  }\n\n  function handleChangePlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function handleChangeLinkPlace(e) {\n    setLinkPlace(e.target.value)\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name={'add'}\n      isOpen={props.isOpen}\n      textTitle={`Новое место`}\n      textButton={`Создать`}\n      onClose={props.onClose}\n    >\n      <input\n        value={place}\n        onChange={handleChangePlace}\n        id=\"popup-add-title\"\n        className=\"popup__input\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"popup-add-title-error\" className=\"popup__error\"></span>\n      <input\n        value={linkPlace}\n        onChange={handleChangeLinkPlace}\n        id=\"popup-add-link\"\n        className=\"popup__input\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span id=\"popup-add-link-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/api'\nimport profileImg from '../images/load.gif' // переменная должна быть в camelCase\nimport CurrentUserContext from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({\n    name: 'Загрузка...',\n    about: 'Загрузка...',\n    avatar: profileImg\n  })\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n\n  const [cards, setCards] = React.useState([])\n\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: '',\n    img:  '',\n  })\n\n  React.useEffect(() => { /* new */\n      const closeByEscape = (e) => {\n        if (e.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener('keydown', closeByEscape)\n\n      return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  React.useEffect( () => {\n    Promise.all([\n      api.getCardsFromServer(),\n      api.getUserInfo()\n    ])\n    .then( ([initialCards, userData]) => {\n      setCards(initialCards)\n      setCurrentUser(userData)\n    })\n    .catch(\n      (err) => {\n        console.log('1 Ошибка ===> ', err)\n      }\n    )\n  }, [])\n\n  function handleCardLikeDislike(card) {\n    const isLiked = card.likes.some( (i) => {\n      return i._id === currentUser._id\n    })\n    let method // кажется, это можно было сократить\n    if (isLiked) {\n      method = \"DELETE\"\n    } else {\n      method = 'PUT'\n    }\n    api.changeLikeCardStatus(card.id, method).then( (newCard) => {\n      setCards( (cards) => cards.map( (c) => c._id === card.id ? newCard : c))\n    }).catch(\n      (err) => {\n        console.log('3 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleCardDelete(card) {\n    api.delCard(card.id).then( (newCard) => {\n      const newArrCards = cards.filter( c => c._id !== card.id )\n      setCards(newArrCards)\n    }).catch(\n      (err) => {\n        console.log('5 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard({\n      name: props.name,\n      img: props.img,\n    })\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n\n    setSelectedCard({\n      name: '',\n      img: '',\n    })\n  }\n\n  function handleAddPlaceSubmit(e) {\n    api.loadNewCard({\n      name: e.place,\n      link: e.linkPlace\n    }).then( (res) => {\n      setCards( [res, ...cards] )\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('6 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleUpdaterUser(e) {\n    api.loadProfile(e).then( (res) => {\n      setCurrentUser(res)\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('7 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  function handleUpdateAvatar(e) {\n    api.changeAvatar(e).then( (res) => {\n      setCurrentUser(res)\n      closeAllPopups()\n    }).catch(\n      (err) => {\n        console.log('8 Ошибка ===> ', err)\n      }\n    )\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Main\n        cards={cards}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLikeDislike}\n        onCardDelete={handleCardDelete}\n      />\n\n      <EditAvatarPopup\n        onUpdateAvarar={handleUpdateAvatar}\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <EditProfilePopup\n        onUpdateUser={handleUpdaterUser}\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <AddPlacePopup\n        onAddNewPlace={handleAddPlaceSubmit}\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n      />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","function Footer() {\n  return (\n      <footer className=\"footer\">\n        <p className=\"footer__title\">© {new Date().getFullYear()} Mesto Russia</p>\n      </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react'\n\nfunction Login(props) {\n  const [login, setLogin] = React.useState('')\n  const [pass, setPass] = React.useState('')\n\n  function handleChangeLogin(e) {\n    setLogin(e.target.value)\n  }\n\n  function handleChangePass(e) {\n    setPass(e.target.value)\n  }\n\n  function handleLoginClick(e) {\n    e.preventDefault()\n    props.onLoginClick({\n      identifier: login,\n      password: pass,\n    })\n  }\n\n  return (\n    <div className=\"enter__container\">\n      <h1 className=\"enter__title\">Вход</h1>\n      <form\n        className=\"enter__form\"\n        action=\"index.html\"\n        method=\"post\"\n        name=\"login\"\n        onSubmit={handleLoginClick}\n      >\n        <input\n          value={login}\n          onChange={handleChangeLogin}\n          className=\"enter__input\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          value={pass}\n          onChange={handleChangePass}\n          className=\"enter__input\"\n          name=\"about\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          required\n        />\n        <button\n          className=\"enter__save\"\n          type=\"submit\"\n        >\n          Войти\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","import React from 'react'\n\nfunction Register(props) {\n  const [login, setLogin] = React.useState('')\n  const [pass, setPass] = React.useState('')\n\n  function handleRegClick(e) {\n    e.preventDefault()\n    props.onRegClick({\n      identifier: login,\n      password: pass,\n    })\n  }\n\n  function handleChangeLogin(e) {\n    setLogin(e.target.value)\n  }\n\n  function handleChangePass(e) {\n    setPass(e.target.value)\n  }\n\n\n  return (\n    <div className=\"enter__container\">\n\n      <h1 className=\"enter__title\">Регистрация</h1>\n      <form\n        className=\"enter__form\"\n        action=\"index.html\"\n        method=\"post\"\n        name=\"reg\"\n        onSubmit={handleRegClick}\n      >\n        <input\n          value={login}\n          onChange={handleChangeLogin}\n          className=\"enter__input\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          value={pass}\n          onChange={handleChangePass}\n          className=\"enter__input\"\n          name=\"about\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          required\n        />\n        <button\n          className=\"enter__save\"\n          type=\"submit\"\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className='enter__field'>\n        <h2 className=\"enter__subtitle\">\n          Уже зарегистрированы?\n        </h2>\n        <a className=\"enter__link\" href='/sign-in'>\n          Войти\n        </a>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/enter_on.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/enter_off.7c6a020b.svg\";","import React from \"react\";\nimport on from '../images/enter_on.svg'\nimport off from '../images/enter_off.svg'\n\nfunction InfoTooltip(props) {\n\n  return (\n    <div\n      className={props.isOpen ? \"popup popup_open\" : \"popup\"}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <img className=\"popup__img\" src={props.res ? on : off} alt={props.alt} />\n        <p className=\"popup__subtitle\">{props.title}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = (data) => {\n  const Component = () => {\n    return (\n      data.component.props.children\n    )\n  }\n\n  return (\n    <Route>\n      {\n        () => data.loggedIn === true ? <Component {...data} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = 'https://auth.nomoreparties.co'\n\nfunction getResponseData(res) { /* точная копия из api.js */\n  console.log('gRD status -> ', res.statusText)\n  if (!res.ok) {\n    return Promise.reject(`Auth-Ошибка: ${res.status}`)\n  }\n  return res.json()\n}\n\nexport const authorize = (data) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password: data.password,\n      email: data.identifier,\n    })\n  })\n  .then((res) => getResponseData(res))\n  /*\n  .then((res) => { // почему этот вариант не работает? И как вызвать функцию ссылкой без аргумента?\n    console.log('1=> > ', res)\n    //getResponseData(res)\n    return res.json()\n  })\n  */\n}\n\nexport const regg = (data) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': data.password,\n      'email': data.identifier\n    })\n  })\n  .then((res) => getResponseData(res))\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then((res) => getResponseData(res))\n}\n","import React from 'react'\nimport { Route, Switch, Redirect, useHistory} from 'react-router-dom'\nimport Header from './Header'\nimport App from './App'\nimport Footer from './Footer'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport ProtectedRoute from './ProtectedRoute'\nimport * as auth from '../utils/Auth';\n\n\nfunction MegaRouter() {\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [isInfoOpen, setisInfoOpen] = React.useState(false)\n  const [isTitle, setIsTitle] = React.useState('')\n  const [isAlt, setIsAlt] = React.useState('Изображение информирующее, что всё плохо!')\n  const [isRes, setIsRes] = React.useState(true)\n  const [isEmail, setIsEmail] = React.useState('')\n  /*\n  const [userData, setUserData] = React.useState({\n    identifier: '',\n    password: ''\n  })\n  */\n  const history = useHistory()\n\n  function closePopupInfo() {\n    setisInfoOpen(false)\n  }\n\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  function handleLoginClick(data) {\n    auth.authorize(data)\n      .then((obj) => {\n        if (obj.token) {\n          setIsEmail(data.identifier)\n          localStorage.setItem('jwt', obj.token)\n          setLoggedIn(true)\n          history.push('/')\n        }\n      })\n      .catch( err => console.log('MR-Ошибка1: ', err))\n  }\n\n  React.useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt')\n\n    if (jwt){\n      auth.getContent(jwt)\n        .then( (res) => {\n          if (res.email) {\n            /*\n            setUserData({\n              username: res.username,\n              email: res.email\n            })\n            */\n            setLoggedIn(true)\n            history.push('/')\n          } else if (jwt) {\n            setIsEmail(res.data.email)\n            setLoggedIn(true)\n            history.push('/')\n          }\n        })\n        .catch( err => console.log('MR-Ошибка2: ', err))\n    }\n  }\n\n  function handleRegClick(data) {\n    auth.regg(data)\n      .then(obj => {\n        setIsRes(true)\n        setIsTitle('Вы успешно зарегистрировались!')\n        setIsAlt('Изображение информирующее, что всё хорошо!')\n        setisInfoOpen(true)\n      })\n      .catch( err => {\n        setIsRes(false)\n        setIsTitle('Что-то пошло не так! Попробуйте ещё раз.')\n        setIsAlt('Изображение информирующее, что всё плохо!')\n        setisInfoOpen(true)\n        console.log('MR-Ошибка3: ', err)\n      })\n  }\n\n  return (\n    <div className='page'>\n      <Switch>\n        <Route path=\"/sign-in\">\n            <Header\n              title='Регистрация'\n              link='/sign-up'\n            />\n            <Login onLoginClick={handleLoginClick}/>\n          </Route>\n        <Route path=\"/sign-up\">\n            <Header\n              title='Войти'\n              link='/sign-in'\n            />\n            <Register onRegClick={handleRegClick}/>\n            <InfoTooltip\n              isOpen={isInfoOpen}\n              title={isTitle}\n              alt={isAlt}\n              res={isRes}\n              onClose={closePopupInfo}\n            />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          loggedIn={loggedIn}\n          component={\n            <>\n              <Header\n                email={isEmail}\n                onSignOut={onSignOut}\n              />\n              <App />\n              <Footer />\n            </>\n          }\n        />\n        <Route>\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default MegaRouter\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport reportWebVitals from './reportWebVitals'\nimport MegaRouter from './components/MegaRouter'\n//import App from './components/App'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <div className='page'>\n        <MegaRouter />\n      </div>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}